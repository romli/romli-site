<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Romli - Personal Site</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>

    <div class="container">
        <header>
            <h1 id="site-title">Romli</h1>
            <p class="subtitle">Digital Enthusiast & Strategist</p>
        </header>

        <section id="about">
            <h2>Tentang</h2>
            <div id="profile-content" class="card">Memuat profil...</div>
        </section>

        <section id="journal">
            <h2>Journal</h2>
            <div id="blog-list" class="grid">
                <p>Memuat tulisan...</p>
            </div>
        </section>
    </div>

    <footer>
        <p>&copy; 2026 Romli Site • Managed via Mobile</p>
    </footer>

    <script>
        // PENTING: Ganti dengan username GitHub Anda
        const user = "romli-s"; // Sesuai dengan screenshot Anda
        const repo = "romli-site";

        // 1. Fungsi Ambil Profil
        async function getProfile() {
            try {
                const res = await fetch(`https://raw.githubusercontent.com/${user}/${repo}/main/profile.md`);
                const md = await res.text();
                document.getElementById('profile-content').innerHTML = marked.parse(md);
            } catch (e) { console.error("Gagal muat profil"); }
        }

        // 2. Fungsi Ambil Daftar Blog
        async function getBlog() {
            try {
                const res = await fetch(`https://api.github.com/repos/${user}/${repo}/contents/blog`);
                const files = await res.json();
                const list = document.getElementById('blog-list');
                list.innerHTML = '';

                // Sortir file terbaru di atas
                files.reverse().forEach(file => {
                    if(file.name.endsWith('.md')) {
                        const judul = file.name.replace(/-/g, ' ').replace('.md', '');
                        const card = `
                            <div class="card">
                                <span class="tag">Post</span>
                                <h3>${judul}</h3>
                                <a href="https://github.com/${user}/${repo}/blob/main/blog/${file.name}" target="_blank" style="text-decoration:none; color:#2d3436; font-weight:600;">Baca di GitHub →</a>
                            </div>
                        `;
                        list.innerHTML += card;
                    }
                });
            } catch (e) { console.error("Gagal muat blog"); }
        }

        getProfile();
        getBlog();
    </script>
</body>
</html>
